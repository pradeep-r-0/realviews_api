{
  "version": 3,
  "sources": ["../../javascript/expenses.js"],
  "sourcesContent": ["console.log(\"\uD83D\uDD25 expenses.js loaded\");\n\ndocument.addEventListener(\"turbo:load\", setupAddExpense);\ndocument.addEventListener(\"DOMContentLoaded\", setupAddExpense);\n\nfunction setupAddExpense() {\n  const addBtn = document.getElementById(\"add-expense-btn\");\n  const container = document.getElementById(\"expenses-container\");\n  const template = document.getElementById(\"expense-template\");\n\n  if (!addBtn || !container || !template) return;\n\n  // Add new expense\n  addBtn.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    const html = template.innerHTML.replace(/NEW_RECORD/g, new Date().getTime());\n    const wrapper = document.createElement(\"div\");\n    wrapper.innerHTML = html;\n    container.appendChild(wrapper.firstElementChild);\n  });\n\n  // Remove expense\n  container.addEventListener(\"click\", function(e) {\n    if (!e.target.classList.contains(\"remove-expense\")) return;\n    e.preventDefault();\n\n    const expenseFields = e.target.closest(\".expense-fields\");\n    const destroyField = expenseFields.querySelector(\"input[name*='_destroy']\");\n\n    if (destroyField) {\n      // mark for destruction\n      destroyField.value = \"1\";\n      // add class to visually hide, don't remove or set display:none\n      expenseFields.classList.add(\"marked-for-destroy\");\n    } else {\n      expenseFields.remove(); // for new records not in DB\n    }\n  });\n\n}\n"],
  "mappings": ";AAAA,QAAQ,IAAI,8BAAuB;AAEnC,SAAS,iBAAiB,cAAc,eAAe;AACvD,SAAS,iBAAiB,oBAAoB,eAAe;AAE7D,SAAS,kBAAkB;AACzB,QAAM,SAAS,SAAS,eAAe,iBAAiB;AACxD,QAAM,YAAY,SAAS,eAAe,oBAAoB;AAC9D,QAAM,WAAW,SAAS,eAAe,kBAAkB;AAE3D,MAAI,CAAC,UAAU,CAAC,aAAa,CAAC,SAAU;AAGxC,SAAO,iBAAiB,SAAS,CAAC,MAAM;AACtC,MAAE,eAAe;AACjB,UAAM,OAAO,SAAS,UAAU,QAAQ,gBAAe,oBAAI,KAAK,GAAE,QAAQ,CAAC;AAC3E,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,YAAQ,YAAY;AACpB,cAAU,YAAY,QAAQ,iBAAiB;AAAA,EACjD,CAAC;AAGD,YAAU,iBAAiB,SAAS,SAAS,GAAG;AAC9C,QAAI,CAAC,EAAE,OAAO,UAAU,SAAS,gBAAgB,EAAG;AACpD,MAAE,eAAe;AAEjB,UAAM,gBAAgB,EAAE,OAAO,QAAQ,iBAAiB;AACxD,UAAM,eAAe,cAAc,cAAc,yBAAyB;AAE1E,QAAI,cAAc;AAEhB,mBAAa,QAAQ;AAErB,oBAAc,UAAU,IAAI,oBAAoB;AAAA,IAClD,OAAO;AACL,oBAAc,OAAO;AAAA,IACvB;AAAA,EACF,CAAC;AAEH;",
  "names": []
}
