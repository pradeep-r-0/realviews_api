{
  "version": 3,
  "sources": ["../../javascript/google_places.js"],
  "sourcesContent": ["// app/javascript/google_places.js\nconsole.log(\"from google_places\");\nfunction initAutocomplete() {\n  console.log(\"inside auto complete\");\n  const input = document.getElementById(\"restaurant-input\");\n  const placeIdField = document.getElementById(\"restaurant_place_id\");\n  const latField = document.getElementById(\"restaurant_lat\");\n  const lngField = document.getElementById(\"restaurant_lng\");\n\n  if (!input) return;\n  if (input.dataset.autocompleteInitialized) return;\n  input.dataset.autocompleteInitialized = true;\n\n  if (typeof google === \"undefined\" || !google.maps?.places) {\n    setTimeout(initAutocomplete, 500);\n    return;\n  }\n\n  const autocomplete = new google.maps.places.Autocomplete(input, {\n    types: [\"establishment\"],\n    componentRestrictions: { country: \"in\" },\n  });\n\n  let placeSelected = false;\n\n  autocomplete.addListener(\"place_changed\", () => {\n    const place = autocomplete.getPlace();\n    if (!place.place_id) return;\n    placeSelected = true;\n\n    if (placeIdField) placeIdField.value = place.place_id;\n    if (latField) latField.value = place.geometry.location.lat();\n    if (lngField) lngField.value = place.geometry.location.lng();\n  });\n\n  // Reset hidden fields if user edits manually\n  input.addEventListener(\"input\", () => {\n    placeSelected = false;\n    if (placeIdField) placeIdField.value = \"\";\n    if (latField) latField.value = \"\";\n    if (lngField) lngField.value = \"\";\n  });\n\n  // Form validation to ensure selection from suggestions\n  const form = input.closest(\"form\");\n  if (form) {\n    form.addEventListener(\"submit\", (e) => {\n      if (!placeSelected) {\n        e.preventDefault();\n        alert(\"Please select a restaurant from the suggestions.\");\n        input.focus();\n      }\n    });\n  }\n}\n\n// Run on every Turbo visit\ndocument.addEventListener(\"turbo:load\", initAutocomplete);\n"],
  "mappings": ";AACA,QAAQ,IAAI,oBAAoB;AAChC,SAAS,mBAAmB;AAC1B,UAAQ,IAAI,sBAAsB;AAClC,QAAM,QAAQ,SAAS,eAAe,kBAAkB;AACxD,QAAM,eAAe,SAAS,eAAe,qBAAqB;AAClE,QAAM,WAAW,SAAS,eAAe,gBAAgB;AACzD,QAAM,WAAW,SAAS,eAAe,gBAAgB;AAEzD,MAAI,CAAC,MAAO;AACZ,MAAI,MAAM,QAAQ,wBAAyB;AAC3C,QAAM,QAAQ,0BAA0B;AAExC,MAAI,OAAO,WAAW,eAAe,CAAC,OAAO,MAAM,QAAQ;AACzD,eAAW,kBAAkB,GAAG;AAChC;AAAA,EACF;AAEA,QAAM,eAAe,IAAI,OAAO,KAAK,OAAO,aAAa,OAAO;AAAA,IAC9D,OAAO,CAAC,eAAe;AAAA,IACvB,uBAAuB,EAAE,SAAS,KAAK;AAAA,EACzC,CAAC;AAED,MAAI,gBAAgB;AAEpB,eAAa,YAAY,iBAAiB,MAAM;AAC9C,UAAM,QAAQ,aAAa,SAAS;AACpC,QAAI,CAAC,MAAM,SAAU;AACrB,oBAAgB;AAEhB,QAAI,aAAc,cAAa,QAAQ,MAAM;AAC7C,QAAI,SAAU,UAAS,QAAQ,MAAM,SAAS,SAAS,IAAI;AAC3D,QAAI,SAAU,UAAS,QAAQ,MAAM,SAAS,SAAS,IAAI;AAAA,EAC7D,CAAC;AAGD,QAAM,iBAAiB,SAAS,MAAM;AACpC,oBAAgB;AAChB,QAAI,aAAc,cAAa,QAAQ;AACvC,QAAI,SAAU,UAAS,QAAQ;AAC/B,QAAI,SAAU,UAAS,QAAQ;AAAA,EACjC,CAAC;AAGD,QAAM,OAAO,MAAM,QAAQ,MAAM;AACjC,MAAI,MAAM;AACR,SAAK,iBAAiB,UAAU,CAAC,MAAM;AACrC,UAAI,CAAC,eAAe;AAClB,UAAE,eAAe;AACjB,cAAM,kDAAkD;AACxD,cAAM,MAAM;AAAA,MACd;AAAA,IACF,CAAC;AAAA,EACH;AACF;AAGA,SAAS,iBAAiB,cAAc,gBAAgB;",
  "names": []
}
